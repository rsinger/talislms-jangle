#summary Installing the Rails-based connector
#labels installation,Featured,Rails,JRuby

= Introduction =

The TalisLMS connector is migrating from Groovy/Grails to JRuby.  The current implementation uses Rails.  Here are the steps needed to get a basic connector up and running.


= Preparing your environment =


A JDK that supports JRuby is required.  [http://kenai.com/projects/jruby/pages/JRubyOnUbuntu This page explains a gotcha in Ubuntu].  Sun's JDK or OpenJDK will work fine.

  # Install JRuby:  [http://jruby.org/download download here]
    * Install somewhere on your system (i.e. _/opt/local/jruby_) and add _/path/to/jruby/bin_ to your $PATH
  # Update gems to most recent version: _$ sudo jruby -S gem update --system_
  # Install the gems needed to run the connector:  
  # _$ sudo jruby -S gem install rails -v 2.3.8_ 
  # _$ sudo jruby -S gem install rsolr-direct_
  # _$ sudo jruby -S gem install activerecord-jdbc-adapter -v 0.9.4_
  # _$ sudo jruby -S gem install marc jrexml vpim composite_primary_keys cql-ruby glassfish_
  # Download the Sybase JDBC driver from http://jtds.sourceforge.net/ and place jtds-1.x.x.jar either in $JRUBY_HOME/lib or in your Java classpath.
  # Check the Rails-connector branch out of svn: _$ svn co http://talislms-jangle.googlecode.com/svn/trunk/ talislms-connector_
  # Rename talislms-connector/config/database.yml-dist to database.yml and edit it to reflect your Alto Sybase connection.
  # Edit talislms-connector/config/connector.yml and change the administrator username and password to something more secure
  # _$ cd /path/to/talislms-connector_
  # _$ glassfish_
  # Pour yourself a very large drink or consider going on holiday for a while.  The last step takes a while.  It's caching your Sybase DB to the embedded Solr cache.
  # You can follow along by _$ tail -f ./log/development.log_
  # [http://code.google.com/p/talislms-jangle/issues/list File a bug report if you run into a problem]
  # Point an HTTP client at http://connectorhost:3000/connector/resources/ and, hopefully, see the resulting JSON feed.
  